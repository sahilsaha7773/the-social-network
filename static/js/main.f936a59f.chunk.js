(this["webpackJsonpsocial-media"]=this["webpackJsonpsocial-media"]||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(1),a=n.n(c),r=n(29),o=n.n(r),i=(n(36),n(3)),l=n(6),j=n(69),u=a.a.createContext({user:{},setUser:function(){}}),b={APIURL:"https://murmuring-harbor-80801.herokuapp.com"};n(37);var d=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(i.a)(r,2),d=o[0],h=o[1],O=Object(c.useContext)(u),p=Object(i.a)(O,2),m=(p[0],p[1]),f=Object(j.a)(["token"]),x=Object(i.a)(f,3),_=(x[0],x[1]);function g(e){"email"===e.target.name?a(e.target.value):"password"===e.target.name&&h(e.target.value)}function v(e){e.preventDefault();var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:d})};fetch("http://localhost:4000/user/login",t).then((function(e){return e.json()})).then((function(e){_("token",e.token),fetch(b.APIURL+"/user/me",{method:"GET",headers:{token:e.token}}).then((function(e){return e.json()})).then((function(e){m(e)}))}))}return x[2],Object(s.jsx)(u.Consumer,{children:function(e){return console.log(e),e[0]._id?Object(s.jsx)(l.a,{to:"/"}):Object(s.jsx)("div",{className:"login__container",children:Object(s.jsxs)("div",{className:"login__card",children:[Object(s.jsx)("h1",{className:"login__heading",children:"Welcome back . . ."}),Object(s.jsxs)("form",{className:"login__form",children:[Object(s.jsx)("input",{type:"email",name:"email",value:n,onChange:g,placeholder:"Enter your email"}),Object(s.jsx)("input",{type:"password",name:"password",value:d,onChange:g,placeholder:"Your top secret password"}),Object(s.jsx)("button",{type:"submit",onClick:v,children:"Get in!?"})]}),Object(s.jsx)("p",{children:"What? Don't have an account? That's bad, create one here -_-"})]})})}})},h=n(4),O=(n(43),n(44),n(5)),p=n.n(O);var m=function(){var e=Object(c.useContext)(u),t=Object(i.a)(e,2),n=(t[0],t[1]);function a(){n({}),p.a.remove("token")}var r=Object(l.f)().pathname;return Object(s.jsx)(u.Consumer,{children:function(e){return e[0]._id?Object(s.jsxs)("div",{className:"navbar",children:[Object(s.jsx)("div",{className:"navbar__left",children:Object(s.jsx)("h1",{children:"The Social Network"})}),Object(s.jsxs)("div",{className:"navbar__right",children:[Object(s.jsxs)(h.b,{className:"navbar__profile",to:"/profile",children:[Object(s.jsx)("img",{src:e[0].img,className:"navbar__profileimg"}),e[0].username]}),Object(s.jsx)("button",{className:"logout__btn",onClick:a,children:"Logout"})]})]}):Object(s.jsxs)("div",{className:"navbar",children:[Object(s.jsx)("div",{className:"navbar__left",children:Object(s.jsx)("h1",{children:"The Social Network"})}),Object(s.jsxs)("div",{className:"navbar__right",children:["/login"!=r&&Object(s.jsx)(h.b,{className:"navbar__link",to:"/login",children:"Log in"}),"/register"!=r&&Object(s.jsx)(h.b,{className:"navbar__link",to:"/register",children:"Register"}),Object(s.jsx)(h.b,{className:"navbar__link",to:"/users",children:"Users"})]})]})}})};n(45);var f=function(){return Object(s.jsx)("div",{className:"footer"})};n(46);var x=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(i.a)(r,2),d=o[0],h=o[1],O=Object(c.useState)(""),p=Object(i.a)(O,2),m=p[0],f=p[1],x=Object(c.useState)(""),_=Object(i.a)(x,2),g=_[0],v=_[1],N=Object(c.useState)(""),k=Object(i.a)(N,2),y=k[0],S=k[1],C=Object(j.a)(["token"]),q=Object(i.a)(C,3),R=(q[0],q[1]),T=(q[2],Object(c.useContext)(u)),P=Object(i.a)(T,2),w=P[0],I=P[1];function E(e){"username"===e.target.name?a(e.target.value):"password"===e.target.name?f(e.target.value):"email"===e.target.name?h(e.target.value):"firstName"===e.target.name?v(e.target.value):"lastName"===e.target.name&&S(e.target.value)}function L(e){console.log(g,y);var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,firstName:g,lastName:y,email:d,password:m})};fetch(b.APIURL+"/user/signup",t).then((function(e){return e.json()})).then((function(e){R("token",e.token),console.log(w),fetch(b.APIURL+"/user/me",{method:"GET",headers:{token:e.token}}).then((function(e){return e.json()})).then((function(e){I(e)}))}))}return Object(s.jsx)(u.Consumer,{children:function(e){return console.log(e),e[0]._id?(console.log("Red"),Object(s.jsx)(l.a,{to:"/"})):Object(s.jsx)("div",{className:"register__container",children:Object(s.jsxs)("div",{className:"register__card",children:[Object(s.jsx)("h1",{className:"register__heading",id:"h1",children:"Gateway to . . ."}),Object(s.jsxs)("form",{className:"register__form",children:[Object(s.jsx)("input",{type:"text",name:"username",value:n,onChange:E,placeholder:"Enter your fake name"}),Object(s.jsx)("input",{type:"text",name:"firstName",value:g,onChange:E,placeholder:"First name"}),Object(s.jsx)("input",{type:"text",name:"lastName",value:y,onChange:E,placeholder:"Last name"}),Object(s.jsx)("input",{type:"email",name:"email",value:d,onChange:E,placeholder:"Enter your email address"}),Object(s.jsx)("input",{type:"password",name:"password",value:m,onChange:E,placeholder:"Your top secret password"})]}),Object(s.jsx)("button",{onClick:L,children:"Get in!?"}),Object(s.jsx)("p",{children:"Okay, already have an account? Login here :D"})]})})}})},_=n(15),g=n.n(_),v=n(19),N=n(70),k=n(71),y=n(72);n(48);var S=function(e){var t=e.userId,n=e.caption,a=e.imgUrl,r=Object(c.useState)({}),o=Object(i.a)(r,2),l=o[0],j=o[1];return Object(c.useEffect)((function(){var e={method:"GET",headers:{token:p.a.get("token")}};fetch("http://localhost:4000/api/people/".concat(t),e).then((function(e){return e.json()})).then((function(e){console.log(e),j(e.user)}))}),[]),Object(s.jsx)("div",{className:"post__container",children:Object(s.jsxs)("div",{className:"post__content",children:[Object(s.jsxs)("div",{className:"post__header",children:[Object(s.jsx)("img",{src:l.img,className:"post__dp"}),Object(s.jsx)(h.b,{to:"/people/".concat(t),children:Object(s.jsx)("p",{className:"post__para",children:l.username})})]}),Object(s.jsxs)("div",{className:"post__body",children:[Object(s.jsx)("p",{className:"post__caption post__para",children:n}),Object(s.jsx)("div",{className:"post__imageContainer",children:Object(s.jsx)("img",{src:a,style:{maxWidth:"100%"},className:"post__image"})})]}),Object(s.jsxs)("div",{className:"post__actions",children:[Object(s.jsxs)("div",{className:"post__actionContainer",children:[Object(s.jsx)(N.a,{className:"post__actionbtn"}),"Like"]}),Object(s.jsxs)("div",{className:"post__actionContainer",children:[Object(s.jsx)(k.a,{className:"post__actionbtn"}),"Comment"]}),Object(s.jsxs)("div",{className:"post__actionContainer",children:[Object(s.jsx)(y.a,{className:"post__actionbtn"}),"Share"]})]})]})})},C=n(73),q=n(74),R=n(75),T=n(76),P=n(77),w=n(78),I=n(9);n(49);var E=function(){var e=Object(l.f)().pathname,t=Object(I.useMediaQuery)({query:"(min-device-width: 1224px)"}),n=Object(I.useMediaQuery)({query:"(min-device-width: 1824px)"});return Object(I.useMediaQuery)({query:"(max-width: 1224px)"}),Object(I.useMediaQuery)({query:"(max-device-width: 1224px)"}),t||n?Object(s.jsxs)("div",{className:"sidebar",children:["/"===e?Object(s.jsxs)(h.b,{className:"sidebar__link__selected",to:"/",children:[Object(s.jsx)(C.a,{})," Home"]}):Object(s.jsxs)(h.b,{className:"sidebar__link",to:"/",children:[Object(s.jsx)(C.a,{})," Home"]}),"/people"===e?Object(s.jsxs)(h.b,{className:"sidebar__link__selected",to:"/people",children:[Object(s.jsx)(q.a,{})," People"]}):Object(s.jsxs)(h.b,{className:"sidebar__link",to:"/people",children:[Object(s.jsx)(q.a,{})," People"]}),"/trending"===e?Object(s.jsxs)(h.b,{className:"sidebar__link__selected",to:"/trending",children:[Object(s.jsx)(R.a,{})," Trending"]}):Object(s.jsxs)(h.b,{className:"sidebar__link",to:"/trending",children:[Object(s.jsx)(R.a,{})," Trending"]}),"/friendRequests"===e?Object(s.jsxs)(h.b,{className:"sidebar__link__selected",to:"/friendRequests",children:[Object(s.jsx)(T.a,{})," Requests"]}):Object(s.jsxs)(h.b,{className:"sidebar__link",to:"/friendRequests",children:[Object(s.jsx)(T.a,{})," Requests"]}),"/inbox"===e?Object(s.jsxs)(h.b,{className:"sidebar__link__selected",to:"/inbox",children:[Object(s.jsx)(P.a,{})," Inbox"]}):Object(s.jsxs)(h.b,{className:"sidebar__link",to:"/inbox",children:[Object(s.jsx)(P.a,{})," Inbox"]}),"/profile"===e?Object(s.jsxs)(h.b,{className:"sidebar__link__selected",to:"/profile",children:[Object(s.jsx)(w.a,{})," Profile"]}):Object(s.jsxs)(h.b,{className:"sidebar__link",to:"/profile",children:[Object(s.jsx)(w.a,{})," Profile"]})]}):Object(s.jsxs)("div",{className:"sidebar",children:["/"===e?Object(s.jsx)(h.b,{className:"sidebar__link__selected",to:"/",children:Object(s.jsx)(C.a,{})}):Object(s.jsxs)(h.b,{className:"sidebar__link",to:"/",children:[" ",Object(s.jsx)(C.a,{})]}),"/people"===e?Object(s.jsxs)(h.b,{className:"sidebar__link__selected",to:"/people",children:[" ",Object(s.jsx)(q.a,{})," "]}):Object(s.jsxs)(h.b,{className:"sidebar__link",to:"/people",children:[" ",Object(s.jsx)(q.a,{})]}),"/trending"===e?Object(s.jsxs)(h.b,{className:"sidebar__link__selected",to:"/trending",children:[" ",Object(s.jsx)(R.a,{})]}):Object(s.jsx)(h.b,{className:"sidebar__link",to:"/trending",children:Object(s.jsx)(R.a,{})}),"/friendRequests"===e?Object(s.jsx)(h.b,{className:"sidebar__link__selected",to:"/friendRequests",children:Object(s.jsx)(T.a,{})}):Object(s.jsx)(h.b,{className:"sidebar__link",to:"/friendRequests",children:Object(s.jsx)(T.a,{})}),"/inbox"===e?Object(s.jsx)(h.b,{className:"sidebar__link__selected",to:"/inbox",children:Object(s.jsx)(P.a,{})}):Object(s.jsx)(h.b,{className:"sidebar__link",to:"/inbox",children:Object(s.jsx)(P.a,{})}),"/profile"===e?Object(s.jsx)(h.b,{className:"sidebar__link__selected",to:"/profile",children:Object(s.jsx)(w.a,{})}):Object(s.jsx)(h.b,{className:"sidebar__link",to:"/profile",children:Object(s.jsx)(w.a,{})})]})};n(50);var L=function(e){e.stories;var t=Object(I.useMediaQuery)({query:"(min-device-width: 1224px)"}),n=Object(I.useMediaQuery)({query:"(min-device-width: 1824px)"}),c=Object(I.useMediaQuery)({query:"(max-width: 1224px)"});return Object(I.useMediaQuery)({query:"(max-device-width: 1224px)"}),Object(I.useMediaQuery)({query:"(orientation: portrait)"}),Object(I.useMediaQuery)({query:"(min-resolution: 2dppx)"}),Object(s.jsxs)("div",{className:"story__menu",children:[t||n&&Object(s.jsx)("p",{children:"You are a desktop or laptop"}),c&&Object(s.jsx)("p",{children:"You are sized like a tablet or mobile phone though"})]})};n(51);var U=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(i.a)(r,2),l=o[0],j=o[1],d=Object(c.useState)(""),h=Object(i.a)(d,2),O=h[0],m=h[1],f=Object(c.useState)(""),x=Object(i.a)(f,2),_=x[0],N=x[1];function k(e){var t=e.target.files[0];return new Promise((function(e,n){var s=new FileReader;s.onload=function(t){e(t.target.result)},s.onerror=function(e){n(e)},s.readAsDataURL(t)}))}function y(e,t){return C.apply(this,arguments)}function C(){return(C=Object(v.a)(g.a.mark((function e(t,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("body"!==n){e.next=4;break}m(t.target.value),e.next=10;break;case 4:if("img"!==n){e.next=10;break}return j(t.target.value),e.next=8,k(t);case 8:s=e.sent,N(s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){e.preventDefault(),console.log(O);var t={method:"POST",headers:{token:p.a.get("token"),"Content-Type":"application/json"},body:JSON.stringify({body:O,image:_})};fetch(b.APIURL+"/post/createPost",t).then((function(e){return e.json()})).then((function(e){console.log(e);var t={method:"GET",headers:{token:p.a.get("token")}};fetch(b.APIURL+"/post/getFeed",t).then((function(e){return e.json()})).then((function(e){console.log(e),a(e)}))}))}return Object(c.useEffect)((function(){var e={method:"GET",headers:{token:p.a.get("token")}};fetch(b.APIURL+"/post/getFeed",e).then((function(e){return e.json()})).then((function(e){console.log(e),a(e)}))}),[]),Object(s.jsx)(u.Consumer,{children:function(e){return console.log("User",e[0]),Object(s.jsxs)("div",{className:"home__container",children:[Object(s.jsxs)("div",{style:{maxWidth:"700px",margin:"auto"},children:[Object(s.jsx)("h2",{children:"Create a Post"}),Object(s.jsx)("textarea",{value:O,onChange:function(e){return y(e,"body")},style:{backgroundColor:"black",width:"100%",padding:"20px",margin:"20px 0",color:"rgb(21, 218, 21)"},rows:7,type:"text",placeholder:"Write something"}),Object(s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(s.jsx)("input",{type:"file",value:l,style:{margin:"0 20px 0 0"},onChange:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t,"img");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"upload__area",required:!0}),Object(s.jsx)("button",{style:{padding:"0 15px",height:"50px",width:"100px"},onClick:q,children:"Post"})]})]}),Object(s.jsx)("div",{className:"posts",children:n.map((function(e){return Object(s.jsx)(S,{userId:e.userId,caption:e.body,imgUrl:e.image})}))}),Object(s.jsx)(L,{})]})}})},A=(n(52),n(79)),G=n(80);var F=function(){var e=Object(c.useContext)(u),t=Object(i.a)(e,2);return t[0],t[1],Object(s.jsx)(u.Consumer,{children:function(e){return Object(s.jsxs)("div",{className:"profile__container",children:[Object(s.jsx)("img",{src:"".concat(e[0].img),className:"profile__photo"}),Object(s.jsxs)("h2",{children:[e[0].firstName," ",e[0].lastName]}),Object(s.jsx)("p",{children:e[0].username}),Object(s.jsx)("p",{className:"bio",children:e[0].bio?e[0].bio:"Write something about yourself..."}),Object(s.jsxs)("div",{className:"profile__about",children:[Object(s.jsx)("p",{children:e[0].livesIn&&Object(s.jsxs)("div",{className:"about__info",children:[Object(s.jsx)(A.a,{})," ",Object(s.jsxs)("p",{className:"about__p",children:["Lives in ",e[0].livesIn]})]})}),Object(s.jsx)("p",{children:e[0].from&&Object(s.jsxs)("div",{className:"about__info",children:[Object(s.jsx)(G.a,{})," ",Object(s.jsxs)("p",{className:"about__p",children:["From ",e[0].from]})]})})]}),Object(s.jsx)(h.b,{className:"",to:"/editProfile",children:"Edit"})]})}})};n(53);var D=function(){var e=Object(c.useContext)(u),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(n.username),o=Object(i.a)(r,2),l=(o[0],o[1],Object(c.useState)(n.firstName)),j=Object(i.a)(l,2),d=(j[0],j[1],Object(c.useState)(n.lastName)),h=Object(i.a)(d,2),O=(h[0],h[1],Object(c.useState)(n.bio)),m=Object(i.a)(O,2),f=m[0],x=m[1],_=Object(c.useState)(n.livesIn),N=Object(i.a)(_,2),k=N[0],y=N[1],S=Object(c.useState)(n.from),C=Object(i.a)(S,2),q=C[0],R=C[1],T=Object(c.useState)(""),P=Object(i.a)(T,2),w=P[0],I=P[1],E=Object(c.useState)(""),L=Object(i.a)(E,2),U=L[0],F=L[1];function D(e){var t=e.target.files[0];return new Promise((function(e,n){var s=new FileReader;s.onload=function(t){e(t.target.result)},s.onerror=function(e){n(e)},s.readAsDataURL(t)}))}function J(e){e.preventDefault();var t={method:"POST",headers:{token:p.a.get("token"),"Content-Type":"application/json"},body:JSON.stringify({id:n._id,username:n.username,email:n.email,firstName:n.firstName,lastName:n.lastName,bio:f,livesIn:k,from:q})};fetch(b.APIURL+"/user/update",t).then((function(e){return e.json()})).then((function(e){fetch(b.APIURL+"/user/me",{method:"GET",headers:{token:p.a.get("token")}}).then((function(e){return e.json()})).then((function(e){console.log(e),a(e)}))}))}function M(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(t.target.value),e.next=3,D(t);case 3:n=e.sent,F(n),console.log(U);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){e.preventDefault();var t={method:"POST",headers:{token:p.a.get("token"),"Content-Type":"application/json"},body:JSON.stringify({img:U})};fetch(b.APIURL+"/user/upload/profilePic",t).then((function(e){return e.json()})).then((function(e){fetch(b.APIURL+"/user/me",{method:"GET",headers:{token:p.a.get("token")}}).then((function(e){return e.json()})).then((function(e){console.log(e),a(e)}))}))}return Object(s.jsx)(u.Consumer,{children:function(e){return Object(s.jsxs)("div",{className:"profile__container",children:[Object(s.jsx)("img",{src:"".concat(e[0].img),className:"profile__photo"}),Object(s.jsxs)("h2",{children:[e[0].firstName," ",e[0].lastName]}),Object(s.jsx)("p",{children:e[0].username}),Object(s.jsxs)("form",{className:"profile__form",children:[Object(s.jsx)("textarea",{rows:2,onChange:function(e){return x(e.target.value)},value:f,placeholder:e[0].bio?e[0].bio:"Write something about yourself...",className:"bio__field"}),Object(s.jsxs)("div",{className:"about__info",children:[Object(s.jsx)(A.a,{className:"about__icon"}),Object(s.jsx)("input",{className:"edit__field",type:"text",value:k,placeholder:e[0].livesIn?e[0].livesIn:"You live in",onChange:function(e){return y(e.target.value)}})]}),Object(s.jsxs)("div",{className:"about__info",children:[Object(s.jsx)(G.a,{className:"about__icon"}),Object(s.jsx)("input",{className:"edit__field",type:"text",value:q,placeholder:e[0].from?e[0].from:"You are from",onChange:function(e){return R(e.target.value)}})]}),Object(s.jsx)("button",{className:"save__btn",onClick:J,children:"Save"})]}),Object(s.jsx)("input",{type:"file",value:w,onChange:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"upload__area",required:!0}),Object(s.jsx)("button",{className:"upload__btn",onClick:W,children:"Upload"})]})}})};n(54);var J=function(){var e=Object(l.g)().userId,t=Object(c.useState)({}),n=Object(i.a)(t,2),a=n[0],r=n[1],o=Object(c.useContext)(u),j=Object(i.a)(o,2),d=(j[0],j[1],Object(c.useState)(!1)),h=Object(i.a)(d,2),O=h[0],m=h[1],f=Object(c.useState)(!1),x=Object(i.a)(f,2),_=x[0],g=x[1],v=Object(c.useState)(!1),N=Object(i.a)(v,2),k=N[0],y=N[1],C=Object(c.useState)([]),q=Object(i.a)(C,2),R=q[0],T=q[1];function P(t){var n={method:"POST",headers:{token:p.a.get("token"),"Content-Type":"application/json"},body:JSON.stringify({user:a})};fetch(b.APIURL+"/api/people/sendRequest",n).then((function(e){return e.json()})).then((function(t){console.log(t);var n={method:"GET",headers:{token:p.a.get("token")}};fetch("http://localhost:4000/api/people/".concat(e),n).then((function(e){return e.json()})).then((function(e){console.log(e),r(e.user),m(e.requestSent),y(e.isFriend)}))}))}function w(t){var n={method:"POST",headers:{token:p.a.get("token"),"Content-Type":"application/json"},body:JSON.stringify({user:a})};fetch(b.APIURL+"/api/people/cancelRequest",n).then((function(e){return e.json()})).then((function(t){console.log(t);var n={method:"GET",headers:{token:p.a.get("token")}};fetch("http://localhost:4000/api/people/".concat(e),n).then((function(e){return e.json()})).then((function(e){console.log(e),r(e.user),m(e.requestSent),g(e.incomingRequest),y(e.isFriend)}))}))}function I(t){var n={method:"POST",headers:{token:p.a.get("token"),"Content-Type":"application/json"},body:JSON.stringify({id:a._id})};fetch(b.APIURL+"/api/people/removeRequest",n).then((function(e){return e.json()})).then((function(t){console.log(t);var n={method:"GET",headers:{token:p.a.get("token")}};fetch("http://localhost:4000/api/people/".concat(e),n).then((function(e){return e.json()})).then((function(e){console.log("sdja",e),r(e.user),m(e.requestSent),g(e.incomingRequest),y(e.isFriend)}))}))}function E(t){var n={method:"POST",headers:{token:p.a.get("token"),"Content-Type":"application/json"},body:JSON.stringify({id:a._id})};fetch(b.APIURL+"/api/people/acceptRequest",n).then((function(e){return e.json()})).then((function(t){console.log(t);var n={method:"GET",headers:{token:p.a.get("token")}};fetch("http://localhost:4000/api/people/".concat(e),n).then((function(e){return e.json()})).then((function(e){console.log("sdja",e),r(e.user),m(e.requestSent),g(e.incomingRequest),y(e.isFriend)}))}))}return Object(c.useEffect)((function(){var t={method:"GET",headers:{token:p.a.get("token")}};fetch("http://localhost:4000/api/people/".concat(e),t).then((function(e){return e.json()})).then((function(e){console.log(e),r(e.user),m(e.requestSent),g(e.incomingRequest),y(e.isFriend)})),fetch("http://localhost:4000/post/postByUser/".concat(e),t).then((function(e){return e.json()})).then((function(e){console.log(e),T(e)}))}),[]),Object(s.jsx)(u.Consumer,{children:function(e){return Object(s.jsxs)("div",{className:"profile__container",children:[Object(s.jsx)("img",{src:"".concat(a.img),className:"profile__photo"}),Object(s.jsxs)("h2",{children:[a.firstName," ",a.lastName]}),Object(s.jsx)("p",{children:a.username}),Object(s.jsx)("p",{className:"bio",children:a.bio&&a.bio}),Object(s.jsxs)("div",{className:"profile__about",children:[Object(s.jsx)("p",{children:a.livesIn&&Object(s.jsxs)("div",{className:"about__info",children:[Object(s.jsx)(A.a,{})," ",Object(s.jsxs)("p",{className:"about__p",children:["Lives in ",a.livesIn]})]})}),Object(s.jsx)("p",{children:a.from&&Object(s.jsxs)("div",{className:"about__info",children:[Object(s.jsx)(G.a,{})," ",Object(s.jsxs)("p",{className:"about__p",children:["From ",a.from]})]})})]}),k?Object(s.jsx)("p",{children:"You guys are friends!"}):_?Object(s.jsxs)("div",{className:"req",children:[Object(s.jsx)("button",{className:"req__btn",onClick:E,children:"Accept"}),Object(s.jsx)("button",{className:"req__btn",onClick:I,children:"Remove"})]}):O?Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"Request pending . . ."}),Object(s.jsx)("button",{className:"request__btn",onClick:w,children:"Cancel Request"})]}):Object(s.jsx)("button",{className:"request__btn",onClick:P,children:"Send Request"}),R.map((function(e){return Object(s.jsx)(S,{userId:e.userId,caption:e.body,imgUrl:e.image})}))]})}})};n(55);var M=function(){var e=Object(c.useContext)(u),t=Object(i.a)(e,2),n=(t[0],t[1],Object(c.useState)([])),a=Object(i.a)(n,2),r=a[0],o=a[1];return Object(c.useEffect)((function(){var e={method:"GET",headers:{token:p.a.get("token")}};fetch(Object({NODE_ENV:"production",PUBLIC_URL:"/the-social-network",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).APIURL+"/api/people",e).then((function(e){return e.json()})).then((function(e){console.log(e),o(e)}))}),[]),Object(s.jsx)(u.Consumer,{children:function(e){return Object(s.jsx)("div",{className:"people__container",children:null===r||void 0===r?void 0:r.map((function(e){return Object(s.jsx)(h.b,{to:"/people/".concat(e._id),children:Object(s.jsxs)("div",{className:"people__box",children:[Object(s.jsx)("img",{src:e.img,className:"people__img"}),Object(s.jsxs)("p",{children:[e.firstName," ",e.lastName]}),Object(s.jsx)("p",{children:e.username})]})})}))})}})},Q=n(81);n(56);var W=function(){var e=Object(c.useContext)(u),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),o=Object(i.a)(r,2),l=o[0],j=o[1],d=Object(c.useState)(!0),O=Object(i.a)(d,2),m=O[0],f=O[1];return Object(c.useEffect)((function(){fetch(b.APIURL+"/user/me",{method:"GET",headers:{token:p.a.get("token")}}).then((function(e){return e.json()})).then((function(e){console.log(e),a(e)}))}),[]),Object(c.useEffect)((function(){var e={method:"GET",headers:{token:p.a.get("token")}};fetch(b.APIURL+"/user/getReqDetails",e).then((function(e){return e.json()})).then((function(e){j(e.reqsInfo),f(!1)}))}),[n]),Object(s.jsx)(u.Consumer,{children:function(e){return console.log(m),m?Object(s.jsx)("div",{className:"req__container",children:Object(s.jsx)("p",{children:"Loading . . ."})}):0===l.length?Object(s.jsx)("div",{className:"req__container",children:Object(s.jsx)("p",{children:"You don't have any pending requests!"})}):Object(s.jsx)("div",{className:"req__container",children:null===l||void 0===l?void 0:l.map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)(h.b,{to:"/people/".concat(e._id),children:Object(s.jsxs)("div",{className:"req__row",children:[Object(s.jsx)("img",{src:e.img,className:"profile__photo req__photo"}),Object(s.jsxs)("div",{className:"req__info",children:[Object(s.jsxs)("p",{children:[e.firstName," ",e.lastName]}),Object(s.jsx)("p",{children:e.username})]})]})})})}))})}})};var Y=function(){var e=Object(c.useState)({}),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){if(!n._id){var e=p.a.get("token");fetch(b.APIURL+"/user/me",{method:"GET",headers:{token:e}}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){return console.log(e)}))}}),[]),Object(s.jsx)(Q.a,{children:Object(s.jsx)(u.Provider,{value:[n,a],children:Object(s.jsxs)(h.a,{children:[Object(s.jsx)(m,{}),Object(s.jsxs)("div",{className:"main",children:[Object(s.jsx)(E,{}),Object(s.jsxs)("div",{className:"main__content",children:[Object(s.jsx)(l.b,{exact:!0,path:"/",children:Object(s.jsx)(U,{})}),Object(s.jsx)(l.b,{path:"/login",children:Object(s.jsx)(d,{})}),Object(s.jsx)(l.b,{path:"/register",children:Object(s.jsx)(x,{})}),Object(s.jsx)(l.b,{path:"/profile",children:Object(s.jsx)(F,{})}),Object(s.jsx)(l.b,{exact:!0,path:"/people",children:Object(s.jsx)(M,{})}),Object(s.jsx)(l.b,{path:"/editProfile",children:Object(s.jsx)(D,{})}),Object(s.jsx)(l.b,{path:"/people/:userId",children:Object(s.jsx)(J,{})}),Object(s.jsx)(l.b,{path:"/friendRequests",children:Object(s.jsx)(W,{})})]})]}),Object(s.jsx)(f,{})]})})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),a(e),r(e)}))};o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(Y,{})}),document.getElementById("root")),H()}},[[57,1,2]]]);
//# sourceMappingURL=main.f936a59f.chunk.js.map